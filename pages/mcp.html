<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MCP</title>
    <script data-goatcounter="https://ai-foundation-course.goatcounter.com/count"
    async src="//gc.zgo.at/count.js"></script>
    <link rel="stylesheet" href="../assets/css/course-nav.css">
    <link rel="stylesheet" href="../assets/css/module-nav-bar.css">
    <link rel="stylesheet" href="../assets/css/module-sidebar.css">
    <link rel="stylesheet" href="../assets/css/code-examples.css">
    <link rel="stylesheet" href="../assets/css/tables.css">
    <link rel="stylesheet" href="../assets/css/course-index.css">
    <link rel="stylesheet" href="../assets/css/mobile-fixes.css">
    <link rel="stylesheet" href="../assets/css/introduction-fix.css">
    <link rel="stylesheet" href="../assets/css/quiz.css">
    <link rel="stylesheet" href="../assets/css/footer-chat.css">
    <style>
        .diagram {
            display: block;
            margin: 25px auto;
            max-width: 100%;
            text-align: center;
            border: 1px solid var(--border);
            border-radius: 4px;
            padding: 10px;
            overflow: hidden;
        }
        .callout-info {
            background: #f8fafd;
            border-left: 4px solid #4a6fa5;
            padding: 1em 1.2em;
            border-radius: 6px;
            margin: 1.2em 0;
        }
    </style>
</head>
<body>
    <nav class="module-nav">
        <button class="module-nav-btn" data-section="introduction">Introduction</button>
        <button class="module-nav-btn" data-section="architecture">Architecture</button>
        <button class="module-nav-btn" data-section="core-message-types">Messages</button>
        <button class="module-nav-btn" data-section="features">Features</button>
        <button class="module-nav-btn" data-section="connections-lifecycle">Connection</button>
        <button class="module-nav-btn" data-section="transports-security">Protocols</button>
        <button class="module-nav-btn" data-section="security-trust">Security</button>
        <button class="module-nav-btn" data-section="references">References</button>
        <button class="module-nav-btn" data-section="quiz">Quiz</button>
        <button class="module-nav-btn lab-nav-btn" id="lab-launch-btn" data-notebook="lab/notebooks/mcp_foundations_lab.ipynb">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64" width="20" height="20" style="vertical-align:middle;margin-right:0.5em;"><circle cx="32" cy="32" r="6" fill="#222"/><ellipse cx="32" cy="32" rx="24" ry="10" fill="none" stroke="#222" stroke-width="3"/><ellipse cx="32" cy="32" rx="10" ry="24" fill="none" stroke="#222" stroke-width="3" transform="rotate(60 32 32)"/><ellipse cx="32" cy="32" rx="10" ry="24" fill="none" stroke="#222" stroke-width="3" transform="rotate(-60 32 32)"/><circle cx="54" cy="32" r="3" fill="#222"/><circle cx="10" cy="32" r="3" fill="#222"/><circle cx="44.78" cy="48.25" r="3" fill="#222"/><circle cx="19.22" cy="15.75" r="3" fill="#222"/><circle cx="44.78" cy="15.75" r="3" fill="#222"/><circle cx="19.22" cy="48.25" r="3" fill="#222"/></svg>
          Lab
        </button>
    </nav>
    <nav class="module-sidebar"></nav>
    <div class="content-inner">
        <!-- Section: Introduction -->
        <section id="introduction" class="module-section">
            <div class="course-description">
                <h2>Module 4: Developer's Guide to Model Context Protocol (MCP)</h2>
                <p>As LLMs became more powerful, developers wanted to connect them to external tools and data. Early attempts relied on custom, one-off solutions, which were difficult to maintain, inconsistent, and often insecure.
                </p>
                <p>This module introduces developers to the Model Context Protocol (MCP), a standardized protocol developed by Anthropic that enables Large Language Models (LLMs) to interact with external tools, APIs, and data sources in a structured and secure way.</p>
                
                <div class="callout" style="background: #f8f9fa; border-left: 4px solid #3498db; padding: 12px 18px; margin: 18px 0;">
                    <strong>Hands-On Lab:</strong> <br>
                    <a href="https://mybinder.org/v2/gh/chelseaarjun/ai-education/HEAD?filepath=lab/notebooks/mcp_foundations_lab.ipynb" target="_blank" style="color: #1a73e8; text-decoration: underline; font-weight: 500;">Launch the companion lab notebook</a>
                    to practice building and testing MCP client-server integrations. In the lab, you'll transform direct tool calls into protocol-based interactions, experience the three-layer MCP architecture, and see how modular, secure AI integrations work in practice.<br>
                </div>

                <h3>What You'll Learn</h3>    
                <ul>
                    <li><strong>Architecture:</strong> The roles and responsibilities of the host, client, and server in an MCP system, ensuring modularity, security, and clear separation of concerns.</li>
                    <li><strong>Core Message Types:</strong> Standardized JSON-RPC message types‚Äîrequests, responses, notifications, and errors‚Äîthat enable structured, reliable, and extensible communication between MCP components.</li>
                    <li><strong>Features:</strong> Outlines the core capabilities MCP enables‚Äîsuch as resources, tools, prompts, and sampling‚Äîallowing clients and servers to declare, negotiate, and use powerful, composable functions.</li>
                    <li><strong>Connection Lifecycle:</strong> How MCP sessions are initialized, maintained, and terminated, including capability negotiation and supported transport protocols for robust, stateful connections.</li>
                    <li><strong>Transport Protocols:</strong> Supported communication protocols (stdio, HTTP), session management, and authorization.</li>
                    <li><strong>Security Principles:</strong> Best practices and requirements for user consent, access control, and safe tool use, ensuring secure and trustworthy MCP integrations.</li>
                </ul>
                <p>You will learn how these elements together make MCP a robust, extensible, and secure foundation for advanced AI integrations.</p>
            </div>
            <div class="section-nav-btns">
                <button id="back-introduction" disabled>Back</button>
                <button id="next-introduction">Next</button>
            </div>
        </section>
        <!-- Section: Architecture -->
        <section id="architecture" class="module-section">
            <h2>Architecture</h2>
            <h3>MCP System Overview</h3>
            <div class="callout-info">
                <b>Quick Summary:</b> MCP uses a modular, client-server architecture with strict security boundaries and clear separation of concerns.
            </div>
            <h4>High-Level Architecture: Host, Client, and Server</h4>
            <div class="diagram">
                <img src="../assets/images/mcp-component.png" alt="MCP Component Architecture Diagram" style="max-width: 500px; width: 100%; height: auto; display: block; margin: 0 auto;" />
                <div style="text-align:center; font-size:0.97em; color:#555; margin-top:0.5em;">Figure: The Host manages multiple clients, each connecting to a specific server. Each client-server pair is isolated, ensuring security and modularity.</div>
            </div>
            <table class="role-table">
                <tr>
                  <th>Role</th>
                  <th>Main Responsibility</th>
                  <th>Example</th>
                </tr>
                <tr>
                  <td><b>Host</b></td>
                  <td>
                    Manages user input, LLM interactions, security, user consent, and connections<br>
                   </td>
                  <td>
                    <b>IDE Application:</b> Receives a user's code question, uses the LLM to interpret it, decides to call the code search tool, and displays the answer in the UI.
                  </td>
                </tr>
                <tr>
                  <td><b>Client</b></td>
                  <td>
                    Protocol handler, connects to one server, enforces boundaries
                  </td>
                  <td>
                    <b>Code Search Connector:</b> Receives a search request from the host, sends it to the code search server, and returns the results. 
                  </td>
                </tr>
                <tr>
                  <td><b>Server</b></td>
                  <td>
                    Operates independently‚Äîcannot access the full conversation or other servers. Processes requests only from its assigned client and provides access to resources, tools and prompts.</td>
                  <td>
                    <b>Code Search Server:</b> Indexes project files and responds to search queries from the client.
                  </td>
                </tr>
            </table>
            <h3>MCP Design Principles</h3>
            <div style="margin-bottom:1.2em;"><span>üõ†Ô∏è <strong>Servers should be extremely easy to build:</strong> Host applications handle orchestration, so servers focus on simple, well-defined capabilities.</span></div>
            <div style="margin-bottom:1.2em;"><span>üß© <strong>Servers should be highly composable:</strong> Each server works in isolation but can be seamlessly combined with others via the shared protocol.</span></div>
            <div style="margin-bottom:1.2em;"><span>üîí <strong>Servers should not be able to read the whole conversation or "see into" other servers:</strong> Servers only receive necessary context; each connection is isolated and controlled by the host.</span></div>
            <div style="margin-bottom:1.2em;"><span>‚¨ÜÔ∏è <strong>Features can be added to servers and clients progressively:</strong> The protocol allows new capabilities to be negotiated and added as needed, supporting independent evolution.</span></div>
            
            <h3>How It Works (At a Glance): Practical Example</h3>
            <p><strong>Scenario:</strong> A user interacts with an <strong>AI-powered productivity assistant (the host)</strong> that integrates both a <strong>calendar tool</strong> and a <strong>weather tool</strong>.</p>
            <ol>
            <li><b>User:</b> Asks, "Do I have any meetings this afternoon, and what's the weather forecast for that time?"</li>
            <li><b>Host:</b> Uses the LLM to interpret the request and determines it needs to:
                <ul>
                <li>Check the user's calendar for meetings this afternoon (<b>calendar tool</b>)</li>
                <li>Get the weather forecast for the meeting time (<b>weather tool</b>)</li>
                </ul>
            </li>
            <li><b>Host:</b> Uses <b>Client 1</b> to connect to <b>Server 1 (Calendar Tool)</b>, which returns: "You have a meeting at 3:00 PM."</li>
            <li><b>Host:</b> Uses <b>Client 2</b> to connect to <b>Server 2 (Weather Tool)</b>, which returns: "The forecast at 3:00 PM is sunny, 75¬∞F."</li>
            <li><b>Security Boundary:</b> Each client only communicates with its assigned server. The calendar server never sees weather data, and vice versa.</li>
            <li><b>Host:</b> Aggregates the results and presents: "You have a meeting at 3:00 PM. The weather at that time is expected to be sunny, 75¬∞F."</li>
            </ol>
            <p style="margin-top:1em; color:#4a6fa5;"><b>Key Point:</b> This example shows how MCP enables secure, modular, and orchestrated multi-tool workflows.</p>
            <div class="callout-info" style="margin-top:1em;"><b>Note:</b> MCP provides official SDKs for multiple languages, 
                including <a href='https://github.com/modelcontextprotocol/python-sdk' target='_blank'>Python</a> 
                and <a href='https://github.com/modelcontextprotocol/typescript-sdk' target='_blank'>TypeScript</a>, 
                to simplify development and integration. See official <a href='https://modelcontextprotocol.io/sdk/java/mcp-overview' target='_blank'>documentation</a> for more details.</div>
            <div class="section-nav-btns">
                <button id="back-architecture">Back</button>
                <button id="next-architecture">Next</button>
            </div>
        </section>
        <!-- Section: Core Message Types -->
        <section id="core-message-types" class="module-section">
            <h2>Core Message Types</h2>
            <h3>Overview</h3>
            <p>
                MCP uses <b>JSON-RPC 2.0</b> as its foundation for structured, reliable communication between hosts, clients, and servers. There are four core message types‚Äî<b>Request</b>, <b>Response</b>, <b>Error</b>, and <b>Notification</b>‚Äîwhich enable both sides to exchange actions, results, errors, and updates in a consistent way. Understanding these types is essential for building and integrating MCP-compliant tools and applications.
            </p>
            <h3>Main Message Types</h3>
            <h4>üì§ <strong>Request</strong></h4>
            <p>Asks another component to perform an action or provide information.</p>
            <table class="fields-table">
              <tr><th>Field</th><th>Type</th><th>Description</th><th>Required?</th></tr>
              <tr><td><b>id</b></td><td>string/number</td><td>Unique identifier for the request</td><td>Yes</td></tr>
              <tr><td><b>method</b></td><td>string</td><td>Operation to invoke</td><td>Yes</td></tr>
              <tr><td><b>params</b></td><td>object/array</td><td>Parameters for the method</td><td>Optional</td></tr>
            </table>
            <pre class="code-block">{
  "jsonrpc": "2.0",
  "id": 1,
  "method": "resources/read",
  "params": { "id": "abc123" }
}</pre>

            <div style="background:#f8fafd; border-left:4px solid #4a6fa5; padding:0.7em 1em; border-radius:5px; margin:1.2em 0; font-size:0.98em; color:#2d3a4a;">
              <b>Note:</b> A reply to a request is either a <b>Response</b> (with a <code>result</code>) or an <b>Error</b> (with an <code>error</code> object), never both.
            </div>

            <h4>üì• <strong>Response</strong></h4>
            <p>Returns the result of a request.</p>
            <table class="fields-table">
              <tr><th>Field</th><th>Type</th><th>Description</th><th>Required?</th></tr>
              <tr><td><b>id</b></td><td>string/number</td><td>Matches the original request</td><td>Yes</td></tr>
              <tr><td><b>result</b></td><td>object/any</td><td>Result of the request</td><td>Yes, if successful</td></tr>
              <tr><td><b>error</b></td><td>object</td><td>Error object (must not be present if <b>result</b> is present)</td><td>No</td></tr>
            </table>
            <pre class="code-block">{
  "jsonrpc": "2.0",
  "id": 1,
  "result": { "id": "abc123", "name": "Resource Name", "data": "..." }
}</pre>

            <h4>‚ùó <strong>Error</strong></h4>
            <p>Returns an error for a request.</p>
            <table class="fields-table">
              <tr><th>Field</th><th>Type</th><th>Description</th><th>Required?</th></tr>
              <tr><td><b>id</b></td><td>string/number</td><td>Matches the original request</td><td>Yes</td></tr>
              <tr><td><b>error</b></td><td>object</td><td>Object with <b>code</b> (number) and <b>message</b> (string)</td><td>Yes</td></tr>
              <tr><td><b>result</b></td><td>object/any</td><td>Must not be present if <b>error</b> is present</td><td>No</td></tr>
            </table>
            <p><strong>Common error codes:</strong></p>
            <table class="fields-table">
              <tr><th>Code</th><th>Name</th><th>Meaning</th></tr>
              <tr><td>-32700</td><td>ParseError</td><td>Invalid JSON was received by the server</td></tr>
              <tr><td>-32600</td><td>InvalidRequest</td><td>The JSON sent is not a valid Request object</td></tr>
              <tr><td>-32601</td><td>MethodNotFound</td><td>The method does not exist or is not available</td></tr>
              <tr><td>-32602</td><td>InvalidParams</td><td>Invalid method parameter(s)</td></tr>
              <tr><td>-32603</td><td>InternalError</td><td>Internal JSON-RPC error</td></tr>
              <tr><td>&gt; -32000</td><td>Custom</td><td>Application-defined errors</td></tr>
            </table>
            <pre class="code-block">{
  "jsonrpc": "2.0",
  "id": 1,
  "error": { "code": -32601, "message": "Method not found" }
}</pre>

            <h4>üîî <strong>Notification</strong></h4>
            <p>Sends a one-way event or update; no response expected.</p>
            <table class="fields-table">
              <tr><th>Field</th><th>Type</th><th>Description</th><th>Required?</th></tr>
              <tr><td><b>jsonrpc</b></td><td>string</td><td>Must be "2.0"</td><td>Yes</td></tr>
              <tr><td><b>method</b></td><td>string</td><td>Event or action name</td><td>Yes</td></tr>
              <tr><td><b>params</b></td><td>object/array</td><td>Parameters for the event</td><td>Optional</td></tr>
              <tr><td><b>id</b></td><td>n/a</td><td>Must not be included</td><td>n/a (must be omitted)</td></tr>
            </table>
            <pre class="code-block">{
  "jsonrpc": "2.0",
  "method": "notifications/resources/updated",
  "params": { "resourceId": "abc123" }
}</pre>
            <hr/>
            <h3>Additional Notes</h3>
            <ul>
                <li><strong>Batching:</strong> MCP (via JSON-RPC 2.0) supports sending multiple requests or notifications in a single batch for efficiency.</li>
                <li><strong>Cancellation:</strong> MCP supports cancelling in-progress requests using a special notification (e.g., <code>"notifications/cancelled"</code>), allowing clients or servers to request that a long-running operation be stopped if it is no longer needed. <a href="https://modelcontextprotocol.io/specification/2025-03-26/basic/utilities/cancellation" target="_blank">Learn more</a></li>
                <li><strong>Extensibility:</strong> Custom methods and parameters can be defined as long as they adhere to the protocol's structure.</li>
            </ul>
            <h4>References</h4>
            <ul>
                <li><a href="https://modelcontextprotocol.io/specification/2025-03-26" target="_blank">MCP Specification: Core Message Types</a></li>
                <li><a href="https://github.com/modelcontextprotocol/modelcontextprotocol/tree/main/schema" target="_blank">MCP Protocol Schema on GitHub</a></li>
                <li><a href="https://www.jsonrpc.org/specification" target="_blank">JSON-RPC 2.0 Specification</a></li>
            </ul>
            <div class="section-nav-btns">
                <button id="back-core-message-types">Back</button>
                <button id="next-core-message-types">Next</button>
            </div>
        </section>
        <!-- Section: Features -->
        <section id="features" class="module-section">
            <h2>Features</h2>
            <p>MCP defines a set of features‚Äîsuch as resources, tools, prompts, sampling, and roots‚Äîthat enable applications to interact with external data, perform actions, and extend AI capabilities in a standardized, secure manner.</p>
            <h3>Server Features</h3>
            <p>
            <span>üì¶ <b>Resources:</b> Structured data or context a server provides.<br>
            <b>How it works:</b> Exposes data (files, DB tables, API results) as resources for the client/LLM.<br>
            <b>Example:</b> List of files in a project; customer records from a database.</span>
            </p>
            <p>
            <span>üõ†Ô∏è <b>Tools:</b> Functions or actions the AI assistant can invoke.<br>
            <b>How it works:</b> Client/LLM calls tools via MCP to perform operations.<br>
            <b>Example:</b> Search database, format code.</span>
            </p>
            <p>
            <span>üìù <b>Prompts:</b> Templated messages or workflows to guide LLM/user.<br>
            <b>How it works:</b> Standardizes tasks and interactions.<br>
            <b>Example:</b> Summarize a document; onboarding workflow.</span>
            </p>
            <blockquote><b>Tip:</b> Use a resource for static or subscribable data; use a tool for dynamic, parameterized queries or actions.</blockquote>
            <h3>Client Features</h3>
            <p>
            <span>üé≤ <b>Sampling:</b> Lets the server request the client to generate a completion or response from the LLM.<br>
            <b>How it works:</b> Server asks the client to use its LLM for tasks like summarization or drafting.<br>
            <b>Example:</b> Server requests a summary of a document.</span>
            </p>
            <p>
            <span>üìÅ <b>Roots:</b> Defines boundaries of accessible directories/files for the server.<br>
            <b>How it works:</b> Client exposes only specific directories to the server.<br>
            <b>Example:</b> Only the "/projects/my-app" folder is accessible to a code analysis server.</span>
            </p>
            <div class="section-nav-btns">
                <button id="back-features">Back</button>
                <button id="next-features">Next</button>
            </div>
        </section>
        <!-- Section: Connection Lifecycle -->
        <section id="connections-lifecycle" class="module-section">
            <h2>MCP Connection Lifecycle</h2>
            <p>The connection lifecycle in the Model Context Protocol (MCP) defines how a session is established, maintained, and terminated between a client and a server, with the host orchestrating the process. This lifecycle ensures robust, secure, and feature-negotiated communication for all MCP-compliant integrations.</p>
            <h3>Lifecycle Phases</h3>
            <h4>1. Initialization <span>ü§ù</span></h4>
            <ul>
            <li><b>Host:</b> Starts the session and initializes the client.</li>
            <li><b>Client:</b> Sends initialization request to the server, declaring supported features.</li>
            <li><b>Server:</b> Responds with its own capabilities.</li>
            <li><b>Negotiation:</b> Only mutually supported features are enabled. <span style="color:#4a6fa5;">üîÑ</span></li>
            </ul>
            <h4>2. Active Session <span>üîÑ</span></h4>
            Once initialized, the session enters an active state where both sides know which features are available.
            <ul>
                <li><b>Client Requests:</b>
                  <ul>
                    <li><b>User/LLM:</b> Initiates actions (e.g., tool calls, resource queries).</li>
                    <li><b>Host:</b> Orchestrates the process, routes requests to the correct client/server.</li>
                    <li><b>Client:</b> Sends structured requests to the assigned server.</li>
                    <li><b>Server:</b> Processes requests and returns responses.</li>
                    <li><b>Host:</b> May aggregate, filter, or post-process responses before updating the UI or LLM.</li>
                  </ul>
                </li>
                <li><b>Server Requests:</b>
                  <ul>
                    <li><b>Server:</b> Can request the client/LLM to perform a task (e.g., generate a completion).</li>
                    <li><b>Client:</b> Forwards the request to the LLM, under host supervision.</li>
                    <li><b>Host:</b> May enforce security, consent, or policy checks.</li>
                    <li><b>Client:</b> Returns the LLM's response to the server.</li>
                  </ul>
                </li>
                <li><b>Notifications:</b>
                  <ul>
                    <li><b>Client/Server:</b> Can one-way send notifications for events (e.g., resource updates, status changes).</li>
                    <li><b>Host:</b> Routes/handles notifications, updates UI or triggers further actions.</li>
                  </ul>
                  <i>Example:</i> Server notifies client that a file has changed, prompting the host to refresh the display.
                </li>
            </ul>
            <h4>3. Termination <span>‚èπÔ∏è</span></h4>
            <ul>
            <li><b>Who:</b> Server, client, or host can initiate termination (e.g., on completion, user request, or error).</li>
            <li><b>How:</b> Termination is communicated explicitly via protocol messages or notifications.</li>
            <li><b>Host:</b> Mediates/coordinates termination, notifies all parties, and updates the UI or application state.</li>
            <li><b>Cleanup:</b> All resources (connections, memory, temp files) are released.</li>
            <li><b>Result:</b> Session ends cleanly, and the system is ready for new sessions or safe shutdown.</li>
            </ul>
            <h3>Lifecycle Diagram</h3>
            <div class="diagram">
                <img src="../assets/images/mcp-lifecycle.png" alt="MCP Connection Lifecycle" style="max-width:600px;width:100%;height:auto;display:block;margin:0 auto;" />
            </div>
            <p><em>The diagram above illustrates the key phases and message flows in a typical MCP session, including initialization, active session management, requests, notifications, and termination.</em></p>
            <h3>Key Points</h3>
            <ul>
                <li><strong>Capability negotiation</strong> during initialization ensures only mutually supported features are active.</li>
                <li><strong>Requests</strong> and <strong>notifications</strong> flow in both directions, enabling rich, interactive workflows.</li>
                <li><strong>Termination</strong> is explicit, ensuring clean shutdown and resource management.</li>
            </ul>
            <div class="section-nav-btns">
                <button id="back-connections-lifecycle">Back</button>
                <button id="next-connections-lifecycle">Next</button>
            </div>
        </section>
        <!-- Section: Transports & Security -->
        <section id="transports-security" class="module-section">
            <h2>Transport Protocols</h2>
            <h3>Transport Protocols in MCP</h3>
            <ul>
                <li>üñ•Ô∏è <b>stdio:</b> Client launches the MCP server as a subprocess and exchanges messages via standard input/output.<br><span style="color:#4a6fa5;">Fast and ideal for local tools.</span></li>
                <li>üåê <b>Streamable HTTP:</b> Client and server communicate over HTTP using POST and GET requests. Supports both single-response and real-time streaming.</li>
            </ul>
            <table class="fields-table" style="margin-bottom:1.2em;">
              <tr><th>Header</th><th>Used In</th><th>Purpose</th></tr>
              <tr><td><b>Content-Type</b></td><td>POST</td><td>Specifies message format (JSON)</td></tr>
              <tr><td><b>Accept</b></td><td>POST/GET</td><td>Indicates accepted response types (JSON, streaming)</td></tr>
              <tr><td><b>Mcp-Session-Id</b></td><td>Both</td><td>Identifies the session</td></tr>
            </table>
            <ul>
                <li><b>POST:</b> Client sends JSON-RPC messages in a POST request (<code>Content-Type: application/json</code>). <b>Accept</b> header signals support for <code>application/json</code> and <code>text/event-stream</code>. Server responds with single or streaming response. <b>Mcp-Session-Id</b> header is used if a session is active.</li>
                <li><b>GET:</b> Client can open a persistent connection with <code>Accept: text/event-stream</code>. Server responds with <code>Content-Type: text/event-stream</code>. <b>Mcp-Session-Id</b> is included if a session is active.</li>
            </ul>
            <blockquote>This approach enables both single-response and real-time, streaming communication, making MCP suitable for a wide range of use cases.<br>See the <a href="https://modelcontextprotocol.io/specification/2025-03-26/basic/transports#streamable-http" target="_blank">MCP Transports documentation</a> for more details.</blockquote>
            <hr/>
            <h3>Authorization in MCP (2025-03-26 Spec)</h3>
            <ul>
                <li><b>Authorization is optional</b> in MCP, but for HTTP-based transports, it is strongly recommended for security.</li>
                <li>üåê <b>OAuth 2.1</b> is the recommended method for secure authorization and access control.</li>
                <li>üñ•Ô∏è For stdio, credentials are typically managed via the environment.</li>
                <li>See the <a href="https://modelcontextprotocol.io/specification/2025-03-26/basic/authorization" target="_blank">MCP Authorization documentation</a> for full details and best practices.</li>
            </ul>
            <hr/>
            <h3>Session Management in MCP</h3>
            <ul>
                <li>MCP supports session management for stateful interactions between clients and servers.</li>
                <li>With Streamable HTTP, the server may assign a unique session ID during initialization (<code>Mcp-Session-Id</code> header).</li>
                <li>Client must include this session ID in all subsequent requests for the session's duration.</li>
                <li>Sessions can be explicitly terminated by the client or server, ensuring clean resource management and robust error handling.</li>
            </ul>
            <blockquote>For more, see <a href="https://modelcontextprotocol.io/specification/2025-03-26/basic/transports#session-management" target="_blank">Session Management in the MCP spec</a>.</blockquote>
            <div class="section-nav-btns">
                <button id="back-transports-security">Back</button>
                <button id="next-transports-security">Next</button>
            </div>
        </section>
        <!-- Section: Security and Trust & Safety -->
        <section id="security-trust" class="module-section">
            <h2>Security and Trust &amp; Safety</h2>
            <div class="note" style="background: #fffbe6; border-left: 4px solid #ff9e3d; padding: 12px 18px; border-radius: 6px; margin-bottom: 1.2em;">
                <strong>Reference:</strong> <a href="https://modelcontextprotocol.io/specification/2025-03-26#security-and-trust-%26-safety" target="_blank" rel="noopener">MCP Specification: Security and Trust &amp; Safety</a><br>
                <em>This section is a direct, word-for-word reference from the official MCP specification for accuracy and authority.</em>
            </div>
            <p>The Model Context Protocol (MCP) enables powerful integrations between LLMs and external tools or data sources. With this power comes significant responsibility: implementers must ensure robust security, user trust, and safety at every stage of development and deployment.</p>
            <h3>Key Principles</h3>
            <ol>
                <li><strong>User Consent and Control</strong><br>
                    Users must explicitly consent to all data access and operations. Users should always understand and control what data is shared and what actions are taken on their behalf. Applications should provide clear UIs for reviewing and authorizing activities.
                </li>
                <li><strong>Data Privacy</strong><br>
                    Hosts must obtain explicit user consent before exposing user data to servers. Resource data must not be transmitted elsewhere without user consent, and all user data should be protected with appropriate access controls.
                </li>
                <li><strong>Tool Safety</strong><br>
                    Tools represent arbitrary code execution and must be treated with caution. Descriptions of tool behavior should be considered untrusted unless obtained from a trusted server. Hosts must obtain explicit user consent before invoking any tool, and users should understand what each tool does before authorizing its use.
                </li>
                <li><strong>LLM Sampling Controls</strong><br>
                    Users must explicitly approve any LLM sampling requests. Users should control whether sampling occurs, the actual prompt sent, and what results the server can see. The protocol intentionally limits server visibility into prompts.
                </li>
            </ol>
            <h3>Implementation Guidelines</h3>
            <ul>
                <li>Build robust consent and authorization flows into your applications.</li>
                <li>Provide clear documentation of security implications for users and developers.</li>
                <li>Implement appropriate access controls and data protections.</li>
                <li>Follow security best practices in all integrations.</li>
                <li>Consider privacy implications in all feature designs.</li>
            </ul>
            <blockquote><strong>While MCP itself cannot enforce these principles at the protocol level, it is the responsibility of every implementer to uphold them in practice.</strong></blockquote>
            <div class="section-nav-btns">
                <button id="back-security-trust">Back</button>
                <button id="next-security-trust">Next</button>
            </div>
        </section>
         <!-- Section: References -->
         <section id="references" class="module-section">
            <h2>References</h2>
            <ul>
                <li><a href="https://modelcontextprotocol.io/introduction" target="_blank">Model Context Protocol: Introduction (Official)</a> ‚Äî Overview, motivation, and analogy for MCP.</li>
                <li><a href="https://modelcontextprotocol.io/specification/2025-03-26" target="_blank">Model Context Protocol: Full Specification (Official)</a> ‚Äî The canonical, up-to-date protocol specification.</li>
                <li><a href="https://modelcontextprotocol.io/specification/2025-03-26/architecture" target="_blank">MCP Specification: Architecture (Official)</a> ‚Äî Authoritative source on host, client, and server roles, security boundaries, and design principles.</li>
                <li><a href="https://modelcontextprotocol.io/docs/concepts/architecture" target="_blank">Model Context Protocol: Core Architecture (Concepts)</a> ‚Äî Explains the architecture, connection flows, and isolation principles in detail.</li>
                <li><a href="https://modelcontextprotocol.io/docs/concepts/resources" target="_blank">Model Context Protocol: Concepts ‚Äì Resources, Tools, Prompts, Sampling</a> ‚Äî Deep dives into each feature, with examples and best practices.</li>
                <li><a href="https://medium.com/@singhrajni2210/model-context-protocol-mcp-a-technical-deep-dive-810273a34304" target="_blank">Model Context Protocol (MCP) ‚Äî A Technical Deep Dive (Medium)</a> ‚Äî Third-party technical deep dive into MCP's motivation, architecture, and use cases.</li>
                <li><a href="https://github.com/modelcontextprotocol/docs" target="_blank">MCP GitHub Documentation</a> ‚Äî The open-source repository for MCP documentation, including examples and community discussions.</li>
                <li><a href="https://github.com/modelcontextprotocol/modelcontextprotocol/blob/main/schema" target="_blank">MCP Detailed Specification</a> - Detailed MCP specification in TypeScript</li>
                <li><a href="https://modelcontextprotocol.io/quickstart" target="_blank">Model Context Protocol: Tutorials and Quickstarts</a> ‚Äî Step-by-step guides for building servers and clients.</li>
                <li><a href="https://www.jsonrpc.org/specification" target="_blank">JSON-RPC 2.0 Specification</a></li>
                <li><a href="https://modelcontextprotocol.io/sdk/java/mcp-overview" target="_blank">Model Context Protocol Java SDK Overview</a> ‚Äî Official documentation for the Java SDK, including features like tool discovery, resource management, and transport options.</li>
            </ul>
            <div class="section-nav-btns">
                <button id="back-references">Back</button>
                <button id="next-references">Next</button>
            </div>
        </section>
        <!-- Section: Quiz -->
        <section id="quiz">
            <h2>MCP Module Quiz</h2>
            <div class="quiz-section">
                <div class="quiz-container">
                    <div class="quiz-question">
                        <p class="question-title">1. Which of the following are the three main roles in the MCP architecture?</p>
                        <ul class="quiz-options">
                            <li class="quiz-option" data-correct="true">A) Host, Client, Server</li>
                            <li class="quiz-option" data-correct="false">B) User, Model, Database</li>
                            <li class="quiz-option" data-correct="false">C) Agent, Tool, Resource</li>
                            <li class="quiz-option" data-correct="false">D) Application, API, Service</li>
                        </ul>
                        <div class="quiz-feedback">
                            <strong>Answer:</strong> A) Host, Client, Server
                        </div>
                    </div>
                </div>
                <div class="quiz-container">
                    <div class="quiz-question">
                        <p class="question-title">2. True or False: In MCP, only the client can send requests to the server.</p>
                        <ul class="quiz-options">
                            <li class="quiz-option" data-correct="false">True</li>
                            <li class="quiz-option" data-correct="true">False</li>
                        </ul>
                        <div class="quiz-feedback">
                            <strong>Answer:</strong> False. Both the client and server can send requests and notifications.
                        </div>
                    </div>
                </div>
                <div class="quiz-container">
                    <div class="quiz-question">
                        <p class="question-title">3. Which protocol is used by MCP for encoding messages?</p>
                        <ul class="quiz-options">
                            <li class="quiz-option" data-correct="false">A) XML-RPC</li>
                            <li class="quiz-option" data-correct="true">B) JSON-RPC 2.0</li>
                            <li class="quiz-option" data-correct="false">C) SOAP</li>
                            <li class="quiz-option" data-correct="false">D) REST</li>
                        </ul>
                        <div class="quiz-feedback">
                            <strong>Answer:</strong> B) JSON-RPC 2.0
                        </div>
                    </div>
                </div>
                <div class="quiz-container">
                    <div class="quiz-question">
                        <p class="question-title">4. What is the difference between a resource and a tool in MCP?</p>
                        <ul class="quiz-options">
                            <li class="quiz-option" data-correct="false">A) Resources are actions, tools are data</li>
                            <li class="quiz-option" data-correct="true">B) Resources are data or information, tools are actions or functions</li>
                            <li class="quiz-option" data-correct="false">C) Both are the same</li>
                            <li class="quiz-option" data-correct="false">D) Tools are only for security</li>
                        </ul>
                        <div class="quiz-feedback">
                            <strong>Answer:</strong> B) Resources are data or information, tools are actions or functions
                        </div>
                    </div>
                </div>
                <div class="quiz-container">
                    <div class="quiz-question">
                        <p class="question-title">5. True or False: MCP supports both stdio and HTTP as transport protocols.</p>
                        <ul class="quiz-options">
                            <li class="quiz-option" data-correct="true">True</li>
                            <li class="quiz-option" data-correct="false">False</li>
                        </ul>
                        <div class="quiz-feedback">
                            <strong>Answer:</strong> True
                        </div>
                    </div>
                </div>
                <div class="quiz-container">
                    <div class="quiz-question">
                        <p class="question-title">6. Which of the following is the recommended method for authorization in MCP when using HTTP-based transports?</p>
                        <ul class="quiz-options">
                            <li class="quiz-option" data-correct="false">A) Basic Auth</li>
                            <li class="quiz-option" data-correct="true">B) OAuth 2.1</li>
                            <li class="quiz-option" data-correct="false">C) API Key in URL</li>
                            <li class="quiz-option" data-correct="false">D) No authorization is needed</li>
                        </ul>
                        <div class="quiz-feedback">
                            <strong>Answer:</strong> B) OAuth 2.1
                        </div>
                    </div>
                </div>
                <div class="quiz-container">
                    <div class="quiz-question">
                        <p class="question-title">7. True or False: Notifications in MCP are one-way messages that do not expect a response.</p>
                        <ul class="quiz-options">
                            <li class="quiz-option" data-correct="true">True</li>
                            <li class="quiz-option" data-correct="false">False</li>
                        </ul>
                        <div class="quiz-feedback">
                            <strong>Answer:</strong> True
                        </div>
                    </div>
                </div>
            </div>
            <div class="section-nav-btns">
                <button id="back-quiz">Back</button>
                <button id="next-quiz">Next</button>
            </div>
        </section>       
    </div>
    <footer class="site-footer">
        <a href="https://github.com/chelseaarjun/ai-education" target="_blank" rel="noopener" class="footer-contact-link">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="#24292e" style="vertical-align:middle;"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
          <span class="footer-label"> GitHub</span>
        </a>
        <button class="footer-feedback-btn"
                data-tally-open="m6y7ze"
                data-tally-emoji-text="üìù"
                data-tally-emoji-animation="wave"
                aria-label="Leave Feedback">
          üìù <span class="footer-label">Feedback</span>
        </button>
        <a href="https://www.linkedin.com/in/arjun-a-883b2622/" target="_blank" rel="noopener" class="footer-contact-link">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="#0a66c2" style="vertical-align:middle;"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-10h3v10zm-1.5-11.268c-.966 0-1.75-.784-1.75-1.75s.784-1.75 1.75-1.75 1.75.784 1.75 1.75-.784 1.75-1.75 1.75zm15.5 11.268h-3v-5.604c0-1.337-.025-3.063-1.868-3.063-1.868 0-2.154 1.459-2.154 2.968v5.699h-3v-10h2.881v1.367h.041c.401-.761 1.379-1.563 2.838-1.563 3.036 0 3.6 2.001 3.6 4.601v5.595z"/></svg>
          <span class="footer-label"> Contact Me</span>
        </a>
        <a href="https://buymeacoffee.com/arjunasoknair" target="_blank" rel="noopener" class="footer-contact-link">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="#FFDD00" style="vertical-align:middle;"><path d="M20.216 6.415l-.132-.666c-.119-.598-.388-1.163-1.001-1.379-.197-.069-.42-.098-.57-.241-.152-.143-.196-.366-.231-.572-.065-.378-.125-.756-.192-1.133-.057-.325-.102-.69-.25-.987-.195-.4-.597-.634-.996-.788a5.723 5.723 0 00-.626-.194c-1-.263-2.05-.36-3.077-.416a25.834 25.834 0 00-3.7.062c-.915.083-1.88.184-2.75.5-.318.116-.646.256-.888.501-.297.302-.393.77-.177 1.146.154.267.415.456.692.58.36.162.737.284 1.123.366 1.075.238 2.189.331 3.287.37 1.218.05 2.437.01 3.65-.118.299-.033.598-.073.896-.119.352-.054.578-.513.474-.834-.124-.383-.457-.531-.834-.473-.466.074-.96.108-1.382.146-1.177.08-2.358.082-3.536.006a22.228 22.228 0 01-1.157-.107c-.086-.01-.18-.025-.258-.036-.243-.036-.484-.08-.724-.13-.111-.027-.111-.185 0-.212h.005c.277-.06.557-.108.838-.147h.002c.131-.009.263-.032.394-.048a25.076 25.076 0 013.426-.12c.674.019 1.347.067 2.017.144l.228.031c.267.04.533.088.798.145.392.085.895.113 1.07.542.055.137.08.288.111.431l.319 1.484a.237.237 0 01-.199.284h-.003c-.037.006-.075.01-.112.015a36.704 36.704 0 01-4.743.295 37.059 37.059 0 01-4.699-.304c-.14-.017-.293-.042-.417-.06-.326-.048-.649-.108-.973-.161-.393-.065-.768-.032-1.123.161-.29.16-.527.404-.675.701-.154.316-.199.66-.267 1-.069.34-.176.707-.135 1.056.087.753.613 1.365 1.37 1.502a39.69 39.69 0 0011.343.376.483.483 0 01.535.53l-.071.697-1.018 9.907c-.041.41-.047.832-.125 1.237-.122.637-.553 1.028-1.182 1.171-.577.131-1.165.2-1.756.205-.656.004-1.31-.025-1.966-.022-.699.004-1.556-.06-2.095-.58-.475-.458-.54-1.174-.605-1.793l-.731-7.013-.322-3.094c-.037-.351-.286-.695-.678-.678-.336.015-.718.3-.678.679l.228 2.185.949 9.112c.147 1.344 1.174 2.068 2.446 2.272.742.12 1.503.144 2.257.156.966.016 1.942.053 2.892-.122 1.408-.258 2.465-1.198 2.616-2.657.34-3.332.683-6.663 1.024-9.995l.215-2.087a.484.484 0 01.39-.426c.402-.078.787-.212 1.074-.518.455-.488.546-1.124.385-1.766zm-1.478.772c-.145.137-.363.201-.578.233-2.416.359-4.866.54-7.308.46-1.748-.06-3.477-.254-5.207-.498-.17-.024-.353-.055-.47-.18-.22-.236-.111-.71-.054-.995.052-.26.152-.609.463-.646.484-.057 1.046.148 1.526.22.577.088 1.156.159 1.737.212 2.48.226 5.002.19 7.472-.14.45-.06.899-.13 1.345-.21.399-.072.84-.206 1.08.206.166.281.188.657.162.974a.544.544 0 01-.169.364zm-6.159 3.9c-.862.37-1.84.788-3.109.788a5.884 5.884 0 01-1.569-.217l.877 9.004c.065.78.717 1.38 1.5 1.38 0 0 1.243.065 1.658.065.447 0 1.786-.065 1.786-.065.783 0 1.434-.6 1.499-1.38l.94-9.95a3.996 3.996 0 00-1.322-.238c-.826 0-1.491.284-2.26.613z"/></svg>
          <span class="footer-label"> Buy Me a Coffee</span>
        </a>
    </footer>

    <!-- Chat button -->
    <button class="floating-chat-btn" aria-label="Ask AI Assistant">
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
      </svg>
      <span class="btn-label">Ask AI Assistant</span>
    </button>
    <script src="../assets/js/course-nav.js"></script>
    <script src="../assets/js/module-sidebar.js"></script>
    <script src="../assets/js/quiz.js"></script>
    <script src="../assets/js/module-nav-bar.js"></script>
    <script src="../assets/js/chat-widget.js"></script>
    <script src="https://tally.so/widgets/embed.js" async></script>
</body>
</html> 